{"version":3,"sources":["services/persons.js","components/Title.js","components/SearchPerson.js","components/ActionMessage.js","components/AddNewPerson.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newObject","post","toRemoveObject","delete","id","alteredObject","put","Title","text","Tag","type","SearchPerson","newMatch","handleMatchChange","value","onChange","ActionMessage","message","error","length","className","AddNewPerson","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","Person","person","deletePerson","name","number","onClick","Persons","persons","map","i","key","App","useState","setPersons","setNewName","setNewNumber","match","setMatch","setMessage","setError","useEffect","personsServices","initialPersons","findMatched","filter","toLowerCase","includes","e","target","preventDefault","personObject","nameMatch","numberMatch","createdPerson","concat","setTimeout","console","log","catch","window","confirm","alteredPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2689fd67.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n   const request = axios.get(baseURL)\n   return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n   const request = axios.post(baseURL, newObject)\n   return request.then((response) => response.data)\n}\n\nconst remove = (toRemoveObject) => {\n   const request = axios.delete(`${baseURL}/${toRemoveObject.id}`)\n   return request.then((response) => response.data)\n}\n\nconst update = (id, alteredObject) => {\n   const request = axios.put(`${baseURL}/${id}`, alteredObject)\n   return request.then((response) => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React from 'react'\n\nconst Title = ({ text, type }) => {\n  const Tag = type\n\n  return (\n    <>\n      <Tag>{text}</Tag>\n    </>\n  )\n}\n\nexport default Title\n","import React from 'react'\n\nconst SearchPerson = ({ newMatch, handleMatchChange }) => {\n  return (\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            filter shown with:\n          </td>\n          <td>\n            <input\n              value={newMatch}\n              onChange={handleMatchChange}\n            />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  )\n}\n\nexport default SearchPerson\n","import React from 'react'\n\nconst ActionMessage = ({ message, error }) => {\n   if (message.length > 0) {\n      return (\n         <div className='action message'>\n            <p>{message}</p>\n         </div>\n      )\n   } else if (error.length > 0) {\n      return (\n         <div className='action error'>\n            <p>{error}</p>\n         </div>\n      )\n   } else {\n      return null\n   }\n}\n\nexport default ActionMessage\n","import React from 'react'\n\nimport ActionMessage from './ActionMessage'\n\nconst AddNewPerson = ({\n   addPerson,\n   newName,\n   newNumber,\n   handleNameChange,\n   handleNumberChange,\n   message,\n   error,\n}) => {\n   return (\n      <div>\n         <form onSubmit={addPerson}>\n            <table>\n               <tbody>\n                  <tr>\n                     <td>name:</td>\n                     <td>\n                        <input value={newName} onChange={handleNameChange} />\n                     </td>\n                  </tr>\n                  <tr>\n                     <td>number:</td>\n                     <td>\n                        <input\n                           value={newNumber}\n                           onChange={handleNumberChange}\n                        />\n                     </td>\n                  </tr>\n                  <tr>\n                     <td>\n                        <button type='submit'>add</button>\n                     </td>\n                  </tr>\n               </tbody>\n            </table>\n         </form>\n         <ActionMessage message={message} error={error} />\n      </div>\n   )\n}\n\nexport default AddNewPerson\n","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n   return (\n      <tr>\n         <td>{person.name}</td>\n         <td>{person.number}</td>\n         <td>\n            <button onClick={() => deletePerson(person)}>delete</button>\n         </td>\n      </tr>\n   )\n}\n\nexport default Person\n","import React from 'react'\n\nimport Person from './Person'\n\nconst Persons = ({ persons, deletePerson }) => {\n   return (\n      <table>\n         <tbody>\n            {persons.map((person, i) => (\n               <Person key={i} person={person} deletePerson={deletePerson} />\n            ))}\n         </tbody>\n      </table>\n   )\n}\n\nexport default Persons\n","import React, { useState, useEffect } from 'react'\n\nimport personsServices from './services/persons'\n\nimport Title from './components/Title'\nimport SearchPerson from './components/SearchPerson'\nimport AddNewPerson from './components/AddNewPerson'\nimport Persons from './components/Persons'\n\nconst App = () => {\n   const [persons, setPersons] = useState([])\n   const [newName, setNewName] = useState('')\n   const [newNumber, setNewNumber] = useState('')\n   const [match, setMatch] = useState('')\n   const [message, setMessage] = useState('')\n   const [error, setError] = useState('')\n\n   useEffect(() => {\n      personsServices //force break\n         .getAll()\n         .then((initialPersons) => {\n            setPersons(initialPersons)\n         })\n   }, [])\n\n   const addPerson = (e) => {\n      e.preventDefault()\n      const personObject = {\n         name: newName,\n         number: newNumber,\n      }\n\n      const nameMatch = persons.filter((person) => person.name === newName)\n      const numberMatch = persons.filter((person) => person.number === newNumber)\n\n      if (nameMatch.length === 0 && numberMatch.length === 0) {\n         personsServices\n            .create(personObject)\n            .then((createdPerson) => {\n               setPersons(persons.concat(createdPerson))\n               setMessage(`Added ${newName}`)\n               setTimeout(() => {\n                  setMessage('')\n               }, 4000)\n               setNewName('')\n               setNewNumber('')\n               console.log('post succes')\n            })\n            .catch((error) => {\n               setError(error.response.data.error)\n               setTimeout(() => {\n                  setError('')\n               }, 4000)\n            })\n      } else if (nameMatch.length !== 0) {\n         if (\n            window.confirm(\n               `${nameMatch[0].name} is already added to phonebook, replace the old number with a new one?`\n            )\n         ) {\n            personsServices //force break\n               .update(nameMatch[0].id, personObject)\n               .then((alteredPerson) => {\n                  setPersons(\n                     persons.map((person) =>\n                        person.id !== alteredPerson.id ? person : alteredPerson\n                     )\n                  )\n                  setMessage(`Added new phonenumber to ${alteredPerson.name}`)\n                  setTimeout(() => {\n                     setMessage('')\n                  }, 4000)\n                  setNewName('')\n                  setNewNumber('')\n                  console.log('alteration success')\n               })\n               .catch((error) => {\n                  setError(\n                     `Information of ${nameMatch[0].name} has already been removed from the server. Please refresh the browser.`\n                  )\n                  setTimeout(() => {\n                     setError('')\n                  }, 4000)\n               })\n         }\n      } else if (numberMatch.length !== 0) {\n         setError(`${numberMatch[0].number} is already in the phonebook under a different name.`)\n         setTimeout(() => {\n            setError('')\n         }, 4000)\n      }\n   }\n\n   const deletePerson = (toRemoveObject) => {\n      if (window.confirm(`Delete ${toRemoveObject.name}?`)) {\n         personsServices //force break\n            .remove(toRemoveObject)\n            .then(() => {\n               setPersons(persons.filter((person) => person.id !== toRemoveObject.id))\n               console.log('deletion succes')\n            })\n      }\n   }\n\n   const findMatched = persons.filter((person) => {\n      return person.name.toLowerCase().includes(match)\n   })\n\n   const handleNameChange = (e) => {\n      setNewName(e.target.value)\n   }\n\n   const handleNumberChange = (e) => {\n      setNewNumber(e.target.value)\n   }\n\n   const handleMatchChange = (e) => {\n      setMatch(e.target.value.toLowerCase())\n   }\n\n   return (\n      <div>\n         <Title text='Phonebook' type='h1' />\n         <SearchPerson match={match} handleMatchChange={handleMatchChange} />\n         <Title text='add a new' type='h2' />\n         <AddNewPerson\n            addPerson={addPerson}\n            newName={newName}\n            newNumber={newNumber}\n            handleNameChange={handleNameChange}\n            handleNumberChange={handleNumberChange}\n            message={message}\n            error={error}\n         />\n         <Title text='Numbers' type='h2' />\n         <Persons persons={findMatched} deletePerson={deletePerson} />\n      </div>\n   )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}